<div class="container my-4 p-3 border rounded bg-light" >
<div class="container-fluid" *ngIf="pfdata">
  <h4 class="text-center fw-bold">{{ pfdata.companyName }}</h4>
  <p class="text-center fw-bold">
    Address: {{ pfdata.location }} - {{ pfdata.branchId?.name }} |
    Phone No: {{ pfdata.phone }}
  </p>
</div>  <h6 class="text-center text-decoration-underline">All Parcel Booking Details Report</h6>

  <div class="d-flex justify-content-between mt-3">
    <div><strong>From :</strong> 11-04-2025 <strong>To :</strong> 12-04-2025</div>
    <div><strong>Print Date :</strong> {{ today | date: 'dd-MM-yyyy' }} <strong>Time :</strong> {{ today | date: 'shortTime' }}</div>
  </div>
  <!-- Loop through each vehicle group -->
  <!-- <div *ngFor="let group of data1.data; let gIndex = index">
    <div class="mt-4 mb-2">
      <strong>Vehicle Number:</strong> {{ group.vehicalNumber || 'Unknown' }} |
      <strong>Total Quantity:</strong> {{ group.totalQuantity }} |
      <strong>Total Amount:</strong> ₹{{ group.totalGrandTotal | number: '1.2-2' }} |
      <strong>Total Hamali:</strong> ₹{{ group.totalHamaliCharge | number: '1.2-2' }}
    </div>
    <div class="table-responsive">
      <table class="table table-bordered table-sm table-striped">
        <thead class="table-secondary text-center">
          <tr>
            <th>No</th>
            <th>GRN No</th>
            <th>Date</th>
            <th>Status</th>
            <th>From City</th>
            <th>To City</th>
            <th>Type</th>
            <th>From Branch</th>
            <th>To Branch</th>
            <th>Sender Name</th>
            <th>Receiver Name</th>
            <th>Qty</th>
            <th>Amount</th>
            <th>Hamali Charge</th>
          </tr>
        </thead>
        <tbody class="text-center align-middle">
          <tr *ngFor="let row of group.bookings; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ row.grnNo }}</td>
            <td>{{ row.bookingDate | date: 'dd-MM-yyyy' }}</td>
            <td>{{ row.bookingStatus === 0 ? 'Loading' : 'Unknown' }}</td>
            <td>{{ row.fromCity }}</td>
            <td>{{ row.toCity }}</td>
            <td>{{ row.bookingType | titlecase }}</td>
            <td>{{ row.pickUpBranchname }}</td>
            <td>{{ row.dropBranchname || 'N/A' }}</td>
            <td>{{ row.senderName }}<br>{{ row.senderMobile || '' }}</td>
            <td>{{ row.receiverName }}<br>{{ row.receiverMobile || '' }}</td>
            <td>{{ row.totalQuantity }}</td>
            <td>{{ row.grandTotal | number: '1.2-2' }}</td>
            <td>{{ row.hamaliCharges | number: '1.2-2' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div> -->
  <ng-container *ngFor="let group of data1.data; let groupIndex = index">
    <p class="fw-bold" >Vehicle Number: {{ group.vehicalNumber || 'Unknown' }}</p>
  <div class="table-responsive mt-4">
    <table class="table table-bordered table-sm table-striped">
      <thead class="table-secondary text-center">
        <tr>
          <th>No</th>
          <th>GRN No</th>
          <th>Date</th>
          <th>Status</th>
          <th>From City</th>
          <th>To City</th>
          <th>Type</th>
          <th>From Branch</th>
          <th>To Branch</th>
          <th>Sender Name</th>
          <th>Receiver Name</th>
          <th>Qty</th>
          <th>Amount</th>
          <th>Hamali Charge</th>
        </tr>
      </thead>

      <tbody class="text-center align-middle" *ngIf="group?.bookings?.length">
        <tr *ngFor="let row of group.bookings; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ row.grnNo }}</td>
          <td>{{ row.bookingDate | date: 'dd-MM-yyyy' }}</td>
          <td>{{ row.bookingStatus === 0 ? 'Loading' : 'Unknown' }}</td>
          <td>{{ row.fromCity }}</td>
          <td>{{ row.toCity }}</td>
          <td>{{ row.bookingType | titlecase }}</td>
          <td>{{ row.pickUpBranchname }}</td>
          <td>{{ row.dropBranchname || 'N/A' }}</td>
          <td>{{ row.senderName }}<br>{{ row.senderMobile || '' }}</td>
          <td>{{ row.receiverName }}<br>{{ row.receiverMobile || '' }}</td>
          <td>{{ row.totalQuantity }}</td>
          <td>{{ row.grandTotal | number: '1.2-2' }}</td>
          <td>{{ row.hamaliCharges | number: '1.2-2' }}</td>
        </tr>
      </tbody>

      <!-- Table footer with group totals -->
      <tfoot class="fw-bold text-center">
        <tr>
          <!-- <td colspan="10" class="text-end">Vehicle Number: {{ group.vehicalNumber || 'Unknown' }}</td> -->
          <td  class="text-end" colspan="11">Total</td>
          <td>{{ group.totalQuantity }}</td>
          <td>₹{{ group.totalGrandTotal | number: '1.2-2' }}</td>
          <td>₹{{ group.totalHamaliCharge | number: '1.2-2' }}</td>
        </tr>
      </tfoot>
    </table>
  </div>
</ng-container>

</div>
